function editor_gotoline(){var in_dlg=$("#editor_gotoline_dlg").parent(".ui-dialog");if($("#editor_gotoline_dlg").css("display")=="none"||in_dlg.length>0&&in_dlg.css("display")=="none"){$("#editor_gotoline_dlg").dialog({width:200,height:115,resizable:false});$("#editor_gotoline_dlg .gotoline").select()}else{$("#editor_gotoline_dlg .gotoline").focus().select()}}function editor_gotoline_do(){var line=parseInt($("#editor_gotoline_dlg .gotoline").val(),10);if(line>0){$("#editor_gotoline_dlg").closest(".ui-dialog-content").dialog("close");editor.setCursor(line-1,0)}else{$("#editor_gotoline_dlg .gotoline").effect("highlight",{color:"red"},250);$("#editor_gotoline_dlg .gotoline").focus()}}function editor_search_find(){var in_dlg=$("#editor_search_dlg").parent(".ui-dialog");if($("#editor_search_dlg").css("display")=="none"||in_dlg.length>0&&in_dlg.css("display")=="none"){$("#editor_search_dlg").dialog({width:362,height:185,resizable:false});$("#editor_search_dlg .searchit").select()}else{$("#editor_search_dlg .searchit").focus().select()}}function editor_search_find_do(e){var pos,found,insensitive=$("#editor_search_match_case").prop("checked"),c=editor.getCursor();pos=e.shiftKey?editor.listSelections()[0].anchor:editor.getCursor();window.editor_search=editor.getSearchCursor($("#editor_search_dlg .searchit").val(),pos,insensitive);found=e.shiftKey?window.editor_search.findPrevious():window.editor_search.findNext();if(found){editor.setSelection(window.editor_search.from(),window.editor_search.to());editor.focus()}}$(document).ready(function(){$(document).on("click","#editor_search_dlg .searchb",function(e){editor_search_find_do(e)});$(document).on("click","#editor_gotoline_dlg .gotolineb",function(e){editor_gotoline_do()});$(document).on("keyup","#editor_gotoline_dlg input.gotoline",function(e){if(e.keyCode==13){editor_gotoline_do()}});$(document).on("click","#editor_search_dlg .replaceb",function(e){var insensitive,s=editor.getSelection();if(s!==""){editor.replaceSelection($("#editor_search_dlg .replaceit").val())}insensitive=$("#editor_search_match_case").prop("checked");window.editor_search=editor.getSearchCursor($("#editor_search_dlg .searchit").val(),editor.getCursor(),insensitive);if(window.editor_search.findNext()){editor.setSelection(window.editor_search.from(),window.editor_search.to());editor.focus()}});$(document).on("click","#editor_search_dlg .replaceallb",function(e){var insensitive,s=editor.getSelection();if(s!==""){editor.replaceSelection($("#editor_search_dlg .replaceit").val())}else{s=$("#editor_search_dlg .searchit").val()}insensitive=$("#editor_search_match_case").prop("checked");window.editor_search=editor.getSearchCursor($("#editor_search_dlg .searchit").val(),editor.getCursor(),insensitive);while(window.editor_search.findNext()){editor.setSelection(window.editor_search.from(),window.editor_search.to());if(s!==""){editor.replaceSelection($("#editor_search_dlg .replaceit").val())}}editor.focus()})});